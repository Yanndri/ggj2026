[gd_scene format=3 uid="uid://c31ubc02o2ih6"]

[ext_resource type="Script" uid="uid://bnrir4pg35evx" path="res://Scripts/game_scene.gd" id="1_ueiaa"]
[ext_resource type="Texture2D" uid="uid://l537cd30wow2" path="res://Art/Aseprite/worldmap.png" id="2_ueiaa"]
[ext_resource type="Script" uid="uid://baibw7t27hkdx" path="res://Scripts/shooter.gd" id="2_v1wow"]
[ext_resource type="PackedScene" uid="uid://bxpbs6nppon8i" path="res://bullet.tscn" id="3_v1wow"]
[ext_resource type="Texture2D" uid="uid://ciin86dlv4qcf" path="res://Art/Aseprite/cannon_under.png" id="4_daj04"]
[ext_resource type="Texture2D" uid="uid://din8bse540mx8" path="res://Art/Aseprite/Cannon.png" id="5_mlphb"]
[ext_resource type="Theme" uid="uid://cxcisb3oec71x" path="res://Theme/MainTheme.tres" id="6_e35lh"]
[ext_resource type="PackedScene" uid="uid://bpecia17xgykd" path="res://addons/base_button/base_button.tscn" id="7_udeyl"]
[ext_resource type="Theme" uid="uid://be7cwwl3fvteg" path="res://Theme/settings.tres" id="8_mlphb"]
[ext_resource type="AudioStream" uid="uid://cyfa1jrf5xwvt" path="res://addons/base_button/click.wav" id="9_j5hk1"]
[ext_resource type="Script" uid="uid://v5y7slqc7hfb" path="res://addons/modded_settings/settings.gd" id="10_ueiaa"]
[ext_resource type="PackedScene" uid="uid://c316m6ovwsluh" path="res://Scenes/main_menu.tscn" id="12_mlphb"]

[sub_resource type="Animation" id="Animation_daj04"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Shooter:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_opqoc"]
_data = {
&"RESET": SubResource("Animation_daj04")
}

[sub_resource type="Gradient" id="Gradient_421uh"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0, 0, 0, 0.30980393)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_v1wow"]
gradient = SubResource("Gradient_421uh")
width = 320
height = 32

[sub_resource type="Gradient" id="Gradient_btenh"]
interpolation_mode = 1
offsets = PackedFloat32Array(0.00931677, 1)
colors = PackedColorArray(0, 0, 0, 0.29803923, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mixcd"]
gradient = SubResource("Gradient_btenh")
width = 320
height = 32
fill_from = Vector2(0.5, 0)
fill_to = Vector2(0.5, 0.3)

[sub_resource type="Gradient" id="Gradient_giula"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.33333334, 0.627451, 0.28627452, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mj2jn"]
gradient = SubResource("Gradient_giula")
width = 320
height = 32

[sub_resource type="GDScript" id="GDScript_mj2jn"]
resource_name = "ContaminationBar"
script/source = "extends TextureProgressBar


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="GDScript" id="GDScript_blluw"]
resource_name = "sfx_button"
script/source = "extends AudioStreamPlayer2D

func _on_base_button_pressed() -> void:
	play()

"

[sub_resource type="Curve" id="Curve_daj04"]
_data = [Vector2(0.11155379, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_daj04"]
colors = PackedColorArray(1, 0.8901961, 0, 1, 1, 0, 0, 1)

[node name="GameScene" type="Node2D" unique_id=2096095640]
script = ExtResource("1_ueiaa")

[node name="TextureRect" type="TextureRect" parent="." unique_id=927491301]
offset_right = 1280.0
offset_bottom = 760.0
texture = ExtResource("2_ueiaa")

[node name="Cannon" type="Node2D" parent="." unique_id=687507015]
position = Vector2(640, 736)
scale = Vector2(0.5, 0.5)

[node name="UnderCannon" type="Sprite2D" parent="Cannon" unique_id=910924253]
position = Vector2(-1, -84)
texture = ExtResource("4_daj04")

[node name="Shooter" type="Sprite2D" parent="Cannon" unique_id=646405278 node_paths=PackedStringArray("launcher", "shooter_animations")]
texture = ExtResource("5_mlphb")
offset = Vector2(0, -64)
script = ExtResource("2_v1wow")
launcher = NodePath("Launcher")
bullet_scene = ExtResource("3_v1wow")
shooter_animations = NodePath("ShooterAnimations")
cooldown = 1.0

[node name="Launcher" type="Marker2D" parent="Cannon/Shooter" unique_id=1307691030]
position = Vector2(2.000019, -181.00002)
scale = Vector2(1.0000001, 1.0000001)

[node name="ShooterAnimations" type="AnimationPlayer" parent="Cannon/Shooter" unique_id=1661602996]
root_node = NodePath("../..")
libraries/ = SubResource("AnimationLibrary_opqoc")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=42960548]

[node name="UI" type="Control" parent="CanvasLayer" unique_id=89566918]
layout_mode = 3
anchors_preset = 0
offset_left = 21.0
offset_top = 483.0
offset_right = 61.0
offset_bottom = 746.0
theme = ExtResource("6_e35lh")

[node name="ContaminationBar" type="TextureProgressBar" parent="CanvasLayer/UI" unique_id=1441904658]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 3.0
offset_top = -11.0
offset_right = 131.0
offset_bottom = 5.0
grow_vertical = 0
rotation = -1.5707964
size_flags_horizontal = 3
size_flags_vertical = 3
value = 50.0
texture_under = SubResource("GradientTexture2D_v1wow")
texture_over = SubResource("GradientTexture2D_mixcd")
texture_progress = SubResource("GradientTexture2D_mj2jn")
script = SubResource("GDScript_mj2jn")

[node name="Label" type="Label" parent="CanvasLayer/UI" unique_id=1271783257]
layout_mode = 0
offset_left = 27.0
offset_top = -93.0
offset_right = 67.0
offset_bottom = 242.0
text = "-
-
-
-
-
-
-
-
-
-
-
-
-"

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/UI" unique_id=2081144972]
layout_mode = 0
offset_left = 40.0
offset_top = -78.0
offset_right = 71.0
offset_bottom = 244.0
bbcode_enabled = true
text = "C
O
N
T
A
M
I
N
A
T
I
O
N"
fit_content = true

[node name="settings" type="Button" parent="CanvasLayer" unique_id=1995971175]
process_mode = 3
offset_left = 4.0
offset_top = -13.0
offset_right = 64.0
offset_bottom = 119.0
theme = ExtResource("8_mlphb")
text = "âš™"

[node name="clickSFX" type="AudioStreamPlayer2D" parent="CanvasLayer/settings" unique_id=1419007476]
stream = ExtResource("9_j5hk1")
bus = &"SFX"
script = SubResource("GDScript_blluw")

[node name="Settings" type="CanvasLayer" parent="CanvasLayer/settings" unique_id=1023945446]
script = ExtResource("10_ueiaa")

[node name="PauseDisplay" type="PanelContainer" parent="CanvasLayer/settings/Settings" unique_id=89996534]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(128, 260)
anchors_preset = -1
anchor_left = 0.4
anchor_top = 0.1
anchor_right = 0.6
anchor_bottom = 0.8
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 6

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/settings/Settings/PauseDisplay" unique_id=410014977]
layout_mode = 2

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=1709775745]
layout_mode = 2
bbcode_enabled = true
text = "[center][b]Options"
fit_content = true
scroll_active = false

[node name="VSeparator" type="VSeparator" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=1690471501]
self_modulate = Color(1, 1, 1, 0)
custom_minimum_size = Vector2(0, 8)
layout_mode = 2

[node name="controls" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=1893093386 instance=ExtResource("7_udeyl")]
layout_mode = 2
text = "Controls"

[node name="volume" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=1772219789 instance=ExtResource("7_udeyl")]
layout_mode = 2
text = "Volume"

[node name="graphics" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=393061614 instance=ExtResource("7_udeyl")]
layout_mode = 2
text = "Graphics"

[node name="exit" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=1024456049 instance=ExtResource("7_udeyl")]
layout_mode = 2
text = "Exit"

[node name="close" parent="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer" unique_id=765688212 instance=ExtResource("7_udeyl")]
layout_mode = 2
size_flags_vertical = 8
text = "Close"

[node name="back" parent="CanvasLayer/settings/Settings" unique_id=1099864388 instance=ExtResource("7_udeyl")]
unique_name_in_owner = true
visible = false
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -31.0
offset_right = 40.0
offset_bottom = 0.0
grow_vertical = 0
size_flags_horizontal = 4
size_flags_vertical = 4
text = "Back"

[node name="MainMenu" parent="CanvasLayer" unique_id=143993886 instance=ExtResource("12_mlphb")]
visible = false

[node name="line" type="Line2D" parent="." unique_id=905347986]
unique_name_in_owner = true
width = 6.0
width_curve = SubResource("Curve_daj04")
gradient = SubResource("Gradient_daj04")

[connection signal="pressed" from="CanvasLayer/settings" to="CanvasLayer/settings/clickSFX" method="_on_base_button_pressed"]
[connection signal="pressed" from="CanvasLayer/settings" to="CanvasLayer/settings/Settings" method="_on_settings_pressed"]
[connection signal="pressed" from="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer/controls" to="CanvasLayer/settings/Settings" method="_on_controls_pressed"]
[connection signal="pressed" from="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer/volume" to="CanvasLayer/settings/Settings" method="_on_volume_pressed"]
[connection signal="pressed" from="CanvasLayer/settings/Settings/PauseDisplay/VBoxContainer/close" to="CanvasLayer/settings/Settings" method="_on_close_pressed"]
[connection signal="pressed" from="CanvasLayer/settings/Settings/back" to="CanvasLayer/settings/Settings" method="_on_back_pressed"]
